<!DOCTYPE HTML>
<head>
	<style>
	 #fake, .highcharts-container, #kbd {
		 display: inline-block;
	 }
	</style>
</head>
<body>
	<script src="https://code.highcharts.com/highcharts.js"></script>
	<script src="https://code.highcharts.com/modules/heatmap.js"></script>
	<script src="https://code.highcharts.com/modules/tilemap.js"></script>
	<script src="https://code.highcharts.com/modules/accessibility.js"></script>

	<input type="text" id="txt" />

	<div id="fake">
		<div id="kbd"></div>
	</div>
	
	<script>
	 let pos = [];
	 let elems = [];
	 let prevpos;
	 fake.onmousemove = (e) => {
		 if (!prevpos)
			 prevpos = [e.clientX, e.clientY];
		 else {
			 let diff = [e.clientX - prevpos[0], e.clientY - prevpos[1]];
			 prevpos = [e.clientX, e.clientY];
			 console.log(diff);
			 for (let i = 0; i < pos.length; ++i) {
				 pos[i].x -= diff[0];
				 pos[i].y -= diff[1];
				 elems[i].style['top'] = `-${pos[i].x}px`;
				 elems[i].style['left'] = `-${pos[i].y}px`;
			 }
		 }
	 }

	 window.onload = () => {
		 for (let i = 0; i < 8; ++i) {
			 let c = document.createElement('img');
			 c.src = './cursort.png';
			 fake.appendChild(c);
			 let posa = {
				 x: ~~(Math.random() * 300),
				 y: ~~(Math.random() * 800)
			 };
			 c.style['top'] = `-${posa.x}px`;
			 c.style['left'] = `-${posa.y}px`;
			 c.style['position'] = 'relative';
			 pos.push(posa);
			 elems.push(c);
		 }


		 
		 Highcharts.chart('kbd', {
			 chart: {
				 type: 'tilemap',
				 inverted: true,
				 height: '300px',
				 width: '800'
			 },

			 navigation: {
			 },

			 title: {
				 text: ''
			 },

			 credits: {
				 enabled: false
			 },

			 xAxis: {
				 visible: false
			 },

			 yAxis: {
				 visible: false
			 },

			 colorAxis: {
				 dataClasses: [{
					 from: 0,
					 to: 1000000,
					 color: '#F9EDB3',
					 name: '< 1M'
				 }, {
					 from: 1000000,
					 to: 5000000,
					 color: '#FFC428',
					 name: '1M - 5M'
				 }, {
					 from: 5000000,
					 to: 20000000,
					 color: '#FF7987',
					 name: '5M - 20M'
				 }, {
					 from: 20000000,
					 color: '#FF2371',
					 name: '> 20M'
				 }],
				 visible: false
			 },

			 tooltip: {
				 enabled:false,
			 },

			 plotOptions: {
				 series: {
					 dataLabels: {
						 enabled: true,
						 format: '{point.letter}',
						 color: '#000000',
						 style: {
							 textOutline: false
						 }
					 },
					 point: {
						 events: {
							 click: function() {
								 txt.value += this.letter;
							 }
						 }
					 }
				 }
			 },

			 series: [{
				 name: '',
				 data: [{
					 letter: '1',
					 x: 0,
					 y: 0,
				 }, {
					 letter: '2',
					 x: 0,
					 y: 1,
				 }, {
					 letter: '3',
					 x: 0,
					 y: 2,
				 }, {
					 letter: '4',
					 x: 0,
					 y: 3,
				 }, {
					 letter: '5',
					 x: 0,
					 y: 4,
				 }, {
					 letter: '6',
					 x: 0,
					 y: 5,
				 }, {
					 letter: '7',
					 x: 0,
					 y: 6,
				 }, {
					 letter: '8',
					 x: 0,
					 y: 7,
				 }, {
					 letter: '9',
					 x: 0,
					 y: 8,
				 }, {
					 letter: '0',
					 x: 0,
					 y: 9,
				 }, {
					 letter: 'A',
					 x: 1,
					 y: 1,
				 }, {
					 letter: 'Z',
					 x: 1,
					 y: 2,
				 }, {
					 letter: 'E',
					 x: 1,
					 y: 3,
				 }, {
					 letter: 'R',
					 x: 1,
					 y: 4,
				 }, {
					 letter: 'T',
					 x: 1,
					 y: 5,
				 }, {
					 letter: 'Y',
					 x: 1,
					 y: 6,
				 }, {
					 letter: 'U',
					 x: 1,
					 y: 7,
				 }, {
					 letter: 'I',
					 x: 1,
					 y: 8,
				 }, {
					 letter: 'O',
					 x: 1,
					 y: 9,
				 }, {
					 letter: 'P',
					 x: 1,
					 y: 10,
				 }, {
					 letter: 'Q',
					 x: 2,
					 y: 0,
				 }, {
					 letter: 'S',
					 x: 2,
					 y: 1,
				 }, {
					 letter: 'D',
					 x: 2,
					 y: 2,
				 }, {
					 letter: 'F',
					 x: 2,
					 y: 3,
				 }, {
					 letter: 'G',
					 x: 2,
					 y: 4,
				 }, {
					 letter: 'H',
					 x: 2,
					 y: 5,
				 }, {
					 letter: 'J',
					 x: 2,
					 y: 6,
				 }, {
					 letter: 'K',
					 x: 2,
					 y: 7,
				 }, {
					 letter: 'L',
					 x: 2,
					 y: 8,
				 }, {
					 letter: 'M',
					 x: 2,
					 y: 9,
				 }, {
					 letter: 'W',
					 x: 3,
					 y: 1,
				 }, {
					 letter: 'X',
					 x: 3,
					 y: 2,
				 }, {
					 letter: 'C',
					 x: 3,
					 y: 3,
				 }, {
					 letter: 'V',
					 x: 3,
					 y: 4,
				 }, {
					 letter: 'B',
					 x: 3,
					 y: 5,
				 }, {
					 letter: 'N',
					 x: 3,
					 y: 6,
				 }
				 ]
			 }]
		 });

	 }
	</script>
</body>